@* /**
 * View responsável pela tela de login do sistema Zennix.
 *
 * Funcionalidades:
 * 1. Formulário de Login:
 *    - Campos:
 *      • E-mail (type="email")
 *      • Senha (type="password")
 *    - Botão de submissão que envia os dados via POST para a ação "Entrar" do controller "Login".
 *    - Link "Conhecer o Zennix" que redireciona para a landing page.
 *
 * 2. Estilo:
 *    - CSS customizado aplicado via ~/css/Login/login.css
 *    - Layout padrão definido em _Layout.cshtml
 *
 * 3. Scripts:
 *    - ~/js/Login/login.js para funcionalidades adicionais do login.
 *    - SweetAlert2 (Swal) utilizado para feedback visual de login:
 *        • Status "erro": alerta de falha no login (e-mail ou senha inválidos)
 *        • Status "sucesso": alerta de login bem-sucedido (auto-fechamento após 1,5s)
 *        • Status "campos-vazios": alerta de campos obrigatórios não preenchidos
 *
 * Parâmetros / Operações:
 * - TempData["LoginStatus"]: utilizado para determinar qual alerta exibir.
 *      Valores possíveis: "erro", "sucesso", "campos-vazios"
 *
 * Observações:
 * - A view utiliza Razor para renderização condicional dos alertas.
 * - A estrutura do formulário segue boas práticas de acessibilidade e responsividade.
 * - Ícones do Bootstrap são usados no botão de login.
*/ *@

@{
  ViewBag.Title = "Login - Zennix";
  Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles {
  <link rel="stylesheet" href="~/css/Login/login.css" />
}

<div class="container-login">
  <div class="login-panel">
    <h1 class="mb-4 text-center">Login</h1>
    <form method="post" asp-controller="Login" asp-action="Entrar">
      <div class="mb-3">
        <label for="email" class="form-label">E-mail</label>
        <input type="email" class="form-control" id="email" name="Email" placeholder="Digite seu e-mail" />
      </div>
      <div class="mb-3">
        <label for="senha" class="form-label">Senha</label>
        <input type="password" class="form-control" id="senha" name="Senha" placeholder="Digite sua senha" />
      </div>
      <button type="submit" class="btn btn-primary btn-principal w-100">
        <i class="bi bi-box-arrow-in-right"></i> Entrar
      </button>
    </form>
    
    <!-- LINK FORA DO FORM para evitar conflitos -->
    <div class="mt-3" style="display: flex; justify-content: center; align-items: center;">
      <a href="@Url.Action("Landing", "Home")" class="text-decoration-none" style="color: #1c4e92;">
        Conhecer o Zennix
      </a>
    </div>
  </div>
</div>

@section Scripts {
  <script src="~/js/Login/login.js"></script>
  
  <script>
    @if (TempData["LoginStatus"]?.ToString() == "erro")
    {
        <text>
            Swal.fire({
                icon: 'error',
                title: 'Falha no login',
                text: 'E-mail ou senha inválidos!'
            });
        </text>
    }
    else if (TempData["LoginStatus"]?.ToString() == "sucesso")
    {
        <text>
            Swal.fire({
                icon: 'success',
                title: 'Login bem-sucedido!',
                showConfirmButton: false,
                timer: 1500
            });
        </text>
    }
    else if (TempData["LoginStatus"]?.ToString() == "campos-vazios")
    {
        <text>
            Swal.fire({
                icon: 'warning',
                title: 'Campos obrigatórios',
                text: 'Por favor, preencha todos os campos.'
            });
        </text>
    }
  </script>
}